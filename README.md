# eth-tools

## Build

```bash
GO111MODULE=on CGO_ENABLED=0 GOOS=linux GOARCH=amd64  go build -o bin/geth-tool ./cmd/geth/
```

## Args

datadir will be the geth 's datadir, contails:

```bash
tree ~/datadir -h -d 1
[4.0K]  /home/datadir
├── [4.0K]  geth
│   ├── [4.0K]  chaindata
│   │   └── [4.0K]  ancient
│   │       └── [4.0K]  chain
│   └── [4.0K]  nodes
└── [4.0K]  keystore
```

## Dump Address List

We can dump all address only by:

```bash
./bin/geth-tool dumpAddress --datadir ~/datadir --onlyaddress
```

it will dump like:

```json
"0x000f3df6d732807ef1319fb7b8bb8522d0beac02"
"0xdeaddeaddeaddeaddeaddeaddeaddeaddead0001"
"0x4200000000000000000000000000000000000015"
```

Just for accounts.

and we can dump balances:

```bash
./bin/geth-tool dumpAddress --datadir ~/datadir --withzerobalance
```

it will dump like:

```json
{"address":"0x000f3df6d732807ef1319fb7b8bb8522d0beac02","balance":"0"}
{"address":"0xdeaddeaddeaddeaddeaddeaddeaddeaddead0001","balance":"0"}
{"address":"0x4200000000000000000000000000000000000015","balance":"0"}
```

## Dump Account

We can dump account without states:

```bash
./bin/geth-tool dump --datadir ~/datadir --nostorage
```

For all data, we can use:

```bash
./bin/geth-tool dump --datadir ~/datadir 
```

it will be:

```json
{"root":"0x896a7eaff5da78a85090886376ef54911b17c0a1f1d01108d2e111de7ac02dad"}
{"balance":"0","nonce":1,"root":"0xa0d47db40c001330ec673fd594459739a8475fc3289438b80deade781b4d6ff0","codeHash":"0xf57acd40259872606d76197ef052f3d35588dadf919ee1f0e3cb9b62d3f4b02c","code":"0x3373fffffffffffffffffffffffffffffffffffffffe14604d57602036146024575f5ffd5b5f35801560495762001fff810690815414603c575f5ffd5b62001fff01545f5260205ff35b5f5ffd5b62001fff42064281555f359062001fff015500","storage":{"0x00000000000000000000000000000000000000000000000000000000000016c2":"674ddc3a","0x00000000000000000000000000000000000000000000000000000000000016c4":"674ddc3c","0x00000000000000000000000000000000000000000000000000000000000016c6":"674ddc3e","0x00000000000000000000000000000000000000000000000000000000000016c8":"674ddc40","0x00000000000000000000000000000000000000000000000000000000000016ca":"674ddc42","0x00000000000000000000000000000000000000000000000000000000000016cc":"674ddc44","0x00000000000000000000000000000000000000000000000000000000000016ce":"674ddc46","0x00000000000000000000000000000000000000000000000000000000000016d0":"674ddc48","0x00000000000000000000000000000000000000000000000000000000000016d2":"674ddc4a","0x00000000000000000000000000000000000000000000000000000000000016d4":"674ddc4c","0x00000000000000000000000000000000000000000000000000000000000016d6":"674ddc4e","0x00000000000000000000000000000000000000000000000000000000000016d8":"674ddc50","0x00000000000000000000000000000000000000000000000000000000000016da":"674ddc52","0x00000000000000000000000000000000000000000000000000000000000016dc":"674ddc54","0x00000000000000000000000000000000000000000000000000000000000016de":"674ddc56","0x00000000000000000000000000000000000000000000000000000000000016e0":"674ddc58","0x00000000000000000000000000000000000000000000000000000000000016e2":"674ddc5a","0x00000000000000000000000000000000000000000000000000000000000016e4":"674ddc5c","0x00000000000000000000000000000000000000000000000000000000000016e6":"674ddc5e","0x00000000000000000000000000000000000000000000000000000000000016e8":"674ddc60","0x00000000000000000000000000000000000000000000000000000000000016ea":"674ddc62","0x00000000000000000000000000000000000000000000000000000000000016ec":"674ddc64","0x00000000000000000000000000000000000000000000000000000000000016ee":"674ddc66","0x00000000000000000000000000000000000000000000000000000000000016f0":"674ddc68","0x00000000000000000000000000000000000000000000000000000000000016f2":"674ddc6a","0x00000000000000000000000000000000000000000000000000000000000016f4":"674ddc6c","0x00000000000000000000000000000000000000000000000000000000000016f6":"674ddc6e","0x00000000000000000000000000000000000000000000000000000000000016f8":"674ddc70","0x00000000000000000000000000000000000000000000000000000000000036c1":"4038e51462da970f92ea6575c13fd2a139ef8b7e12adb57fab1c270a2ca71604","0x00000000000000000000000000000000000000000000000000000000000036c3":"4038e51462da970f92ea6575c13fd2a139ef8b7e12adb57fab1c270a2ca71604","0x00000000000000000000000000000000000000000000000000000000000036c5":"4038e51462da970f92ea6575c13fd2a139ef8b7e12adb57fab1c270a2ca71604","0x00000000000000000000000000000000000000000000000000000000000036c7":"4038e51462da970f92ea6575c13fd2a139ef8b7e12adb57fab1c270a2ca71604","0x00000000000000000000000000000000000000000000000000000000000036c9":"4038e51462da970f92ea6575c13fd2a139ef8b7e12adb57fab1c270a2ca71604","0x00000000000000000000000000000000000000000000000000000000000036cb":"a3e7e79558c63f5449f4d482387fe27155a2e38c479c1f7f4e579f30dc4a299b","0x00000000000000000000000000000000000000000000000000000000000036cd":"a3e7e79558c63f5449f4d482387fe27155a2e38c479c1f7f4e579f30dc4a299b","0x00000000000000000000000000000000000000000000000000000000000036cf":"a3e7e79558c63f5449f4d482387fe27155a2e38c479c1f7f4e579f30dc4a299b","0x00000000000000000000000000000000000000000000000000000000000036d1":"a3e7e79558c63f5449f4d482387fe27155a2e38c479c1f7f4e579f30dc4a299b","0x00000000000000000000000000000000000000000000000000000000000036d3":"a3e7e79558c63f5449f4d482387fe27155a2e38c479c1f7f4e579f30dc4a299b","0x00000000000000000000000000000000000000000000000000000000000036d5":"a3e7e79558c63f5449f4d482387fe27155a2e38c479c1f7f4e579f30dc4a299b","0x00000000000000000000000000000000000000000000000000000000000036d7":"e462b100b0cf66fe85a7620bbe6d44bc9b27b5f74641b60cde51063edcf60766","0x00000000000000000000000000000000000000000000000000000000000036d9":"e462b100b0cf66fe85a7620bbe6d44bc9b27b5f74641b60cde51063edcf60766","0x00000000000000000000000000000000000000000000000000000000000036db":"e462b100b0cf66fe85a7620bbe6d44bc9b27b5f74641b60cde51063edcf60766","0x00000000000000000000000000000000000000000000000000000000000036dd":"e462b100b0cf66fe85a7620bbe6d44bc9b27b5f74641b60cde51063edcf60766","0x00000000000000000000000000000000000000000000000000000000000036df":"e462b100b0cf66fe85a7620bbe6d44bc9b27b5f74641b60cde51063edcf60766","0x00000000000000000000000000000000000000000000000000000000000036e1":"e462b100b0cf66fe85a7620bbe6d44bc9b27b5f74641b60cde51063edcf60766","0x00000000000000000000000000000000000000000000000000000000000036e3":"7f632300f893e6bf81f4e5ee1d83bbc263b62b40bf9bda907b29549232b32d89","0x00000000000000000000000000000000000000000000000000000000000036e5":"7f632300f893e6bf81f4e5ee1d83bbc263b62b40bf9bda907b29549232b32d89","0x00000000000000000000000000000000000000000000000000000000000036e7":"7f632300f893e6bf81f4e5ee1d83bbc263b62b40bf9bda907b29549232b32d89","0x00000000000000000000000000000000000000000000000000000000000036e9":"7f632300f893e6bf81f4e5ee1d83bbc263b62b40bf9bda907b29549232b32d89","0x00000000000000000000000000000000000000000000000000000000000036eb":"7f632300f893e6bf81f4e5ee1d83bbc263b62b40bf9bda907b29549232b32d89","0x00000000000000000000000000000000000000000000000000000000000036ed":"7f632300f893e6bf81f4e5ee1d83bbc263b62b40bf9bda907b29549232b32d89","0x00000000000000000000000000000000000000000000000000000000000036ef":"69c060052f7633dd352b5a7cc73a25e305b72bc1f914dcf6ebe79dc5e1385e85","0x00000000000000000000000000000000000000000000000000000000000036f1":"69c060052f7633dd352b5a7cc73a25e305b72bc1f914dcf6ebe79dc5e1385e85","0x00000000000000000000000000000000000000000000000000000000000036f3":"69c060052f7633dd352b5a7cc73a25e305b72bc1f914dcf6ebe79dc5e1385e85","0x00000000000000000000000000000000000000000000000000000000000036f5":"69c060052f7633dd352b5a7cc73a25e305b72bc1f914dcf6ebe79dc5e1385e85","0x00000000000000000000000000000000000000000000000000000000000036f7":"69c060052f7633dd352b5a7cc73a25e305b72bc1f914dcf6ebe79dc5e1385e85"},"address":"0x000f3df6d732807ef1319fb7b8bb8522d0beac02","key":"0x37d65eaa92c6bc4c13a5ec45527f0c18ea8932588728769ec7aecfe6d9f32e42"}
{"balance":"0","nonce":28,"root":"0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421","codeHash":"0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","address":"0xdeaddeaddeaddeaddeaddeaddeaddeaddead0001","key":"0x42f8c100b897ed7bf8098817066027566d46d1335b8e9a6ce03de93e6b5b9401"}
{"balance":"0","nonce":0,"root":"0x6d85fde7c2a8849b7e460081a2e3dd7cad236e2266725f0e7fceac79fad52739","codeHash":"0xfa8c9db6c6cab7108dea276f4cd09d575674eb0852c0fa3187e59e98ef977998","code":"0x60806040526004361061005e5760003560e01c80635c60da1b116100435780635c60da1b146100be5780638f283970146100f8578063f851a440146101185761006d565b80633659cfe6146100755780634f1ef286146100955761006d565b3661006d5761006b61012d565b005b61006b61012d565b34801561008157600080fd5b5061006b6100903660046106dd565b610224565b6100a86100a33660046106f8565b610296565b6040516100b5919061077b565b60405180910390f35b3480156100ca57600080fd5b506100d3610419565b60405173ffffffffffffffffffffffffffffffffffffffff90911681526020016100b5565b34801561010457600080fd5b5061006b6101133660046106dd565b6104b0565b34801561012457600080fd5b506100d3610517565b60006101577f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc5490565b905073ffffffffffffffffffffffffffffffffffffffff8116610201576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602560248201527f50726f78793a20696d706c656d656e746174696f6e206e6f7420696e6974696160448201527f6c697a656400000000000000000000000000000000000000000000000000000060648201526084015b60405180910390fd5b3660008037600080366000845af43d6000803e8061021e573d6000fd5b503d6000f35b7fb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d61035473ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16148061027d575033155b1561028e5761028b816105a3565b50565b61028b61012d565b60606102c07fb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d61035490565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614806102f7575033155b1561040a57610305846105a3565b6000808573ffffffffffffffffffffffffffffffffffffffff16858560405161032f9291906107ee565b600060405180830381855af49150503d806000811461036a576040519150601f19603f3d011682016040523d82523d6000602084013e61036f565b606091505b509150915081610401576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152603960248201527f50726f78793a2064656c656761746563616c6c20746f206e657720696d706c6560448201527f6d656e746174696f6e20636f6e7472616374206661696c65640000000000000060648201526084016101f8565b91506104129050565b61041261012d565b9392505050565b60006104437fb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d61035490565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16148061047a575033155b156104a557507f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc5490565b6104ad61012d565b90565b7fb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d61035473ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161480610509575033155b1561028e5761028b8161060c565b60006105417fb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d61035490565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161480610578575033155b156104a557507fb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d61035490565b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc81815560405173ffffffffffffffffffffffffffffffffffffffff8316907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a25050565b60006106367fb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d61035490565b7fb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d61038381556040805173ffffffffffffffffffffffffffffffffffffffff80851682528616602082015292935090917f7e644d79422f17c01e4894b5f4f588d331ebfa28653d42ae832dc59e38c9798f910160405180910390a1505050565b803573ffffffffffffffffffffffffffffffffffffffff811681146106d857600080fd5b919050565b6000602082840312156106ef57600080fd5b610412826106b4565b60008060006040848603121561070d57600080fd5b610716846106b4565b9250602084013567ffffffffffffffff8082111561073357600080fd5b818601915086601f83011261074757600080fd5b81358181111561075657600080fd5b87602082850101111561076857600080fd5b6020830194508093505050509250925092565b600060208083528351808285015260005b818110156107a85785810183015185820160400152820161078c565b818111156107ba576000604083870101525b50601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016929092016040019392505050565b818382376000910190815291905056fea164736f6c634300080f000a","storage":{"0x0000000000000000000000000000000000000000000000000000000000000000":"c0d3c0d3c0d3c0d3c0d3c0d3c0d3c0d3c0d30015","0x0000000000000000000000000000000000000000000000000000000000000001":"02aebf265c","0x0000000000000000000000000000000000000000000000000000000000000002":"342cab5d862c434344a3540782425849e289883e01f7a3feeb72100d7b8f87fc","0x0000000000000000000000000000000000000000000000000000000000000003":"0558000c5fc50000000000000004","0x0000000000000000000000000000000000000000000000000000000000000004":"28b83d247bb7cf0f1ef7ec75f445ec7a49d3e552","0x0000000000000000000000000000000000000000000000000000000000000007":"01"},"address":"0x4200000000000000000000000000000000000015","key":"0x88d7eb2b05f896ff0105268980868fa165a0822afb78240802859cc07e175beb"}

```

## Blocked Accounts

Some Account 's storage can not be dump success, in log:

```log
ERROR[03-26|08:01:06.476] got storage failed by too much count     account=0x198A5D5c7f08948454C33dcc139506c043FeA2E1 root=0x2407ba77b75b7d640b37981e61e2ba3d781858128938f7f2105969c9dd7571b4
```


The list, contract name, NOTE it may dump success, just one example, should check the log with `got storage failed by too much count`:

- 0x198A5D5c7f08948454C33dcc139506c043FeA2E1: PrizeClaimer
- 0xC47E67676551BB74caBE6f1925172A8035955B82: EcdsaOwnershipRegistryModule
- 0x171CAF23feAe5Fd1C2C323ee81926B9048785e4D: Skin Factory
- 0x50B1BBE5DcBb6396ef1b95ace5Aa045cD8eBDf50:  121.8 BNB
- 0x7e639F80A4903C869f44C804b6Db6dB3f845c7c9: ROAR
- 0x67bc108F6379ab897d63f83C7a7deAE95c572811: WhitelistClaimERC20
- 0x4200000000000000000000000000000000000016: L2ToL1MessagePasserProxy 63,925.14367067 BNB
- 0x94F8D460A89949044acaa0a3dc6991AAbEBDC688: Dino Bucks
- 0x4200000000000000000000000000000000000007: L2CrossDomainMessengerProxy 0.00394101 BNB
- 0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789: EntryPoint 0.79369641 BNB
- 0x7e913A13740ab75df2B34249059879948F5157D0: FansCreateBNBUpgradeable 56.5122 BNB
- 0x2e1954298A2fddE09A0E23e61b01bF2F475acee7: WhitelistClaimERC20
- 0xb7E548C4f133AdBB910914D7529D5CB00c2E9051: PalioAI START
- 0x73e987FB9F0b1c10db7D57b913dAa7F2Dc12b4f5: PalioVoter
- 0xC054eF315bCeAb5046848604DD98540c83Ba0B9a: XterStaking
- 0x93f7d9dF604f14e85f49317c550fee06a5CDeB2E:  0.00582391 BNB
- 0xa90319054b3210e9a81740D8e8520c4D52B428d4: PalioAI Emotion
- 0x19c10FFf96B80208f454034C046CCc4445Cd20ba: CheckInContract
- 0x70D75ae4b40Ac5A8E1f2AbE888978Ba28329C00F: 
- 0xFe5139c683EA92e63cC8Da772e7BDF35ae219d4b: 
- 0xefd4bC9afD210517803f293ABABd701CaeeCdfd0: 
- 0xBeEDBF1d1908174b4Fc4157aCb128dA4FFa80942: PalioIncubator

